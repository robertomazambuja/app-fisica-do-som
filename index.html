<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Física do Som com o Shofar</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>A Física do Som e o Shofar</h1>
        <p>Uma jornada interativa para entender as ondas sonoras</p>
    </header>

    <main>
        <!-- Seção 1: Qualidades do Som -->
        <section class="card">
            <h2>As 3 Qualidades do Som</h2>
            <div class="instruction-box">
                <p>Use os controles deslizantes para mudar a <strong>altura</strong> (frequência) e o <strong>volume</strong> (amplitude) da onda. Clique nos botões de <strong>timbre</strong> para ouvir e ver como o formato da onda altera a "cor" do som.</p>
            </div>
            <p class="description">As ondas sonoras têm três características principais que podemos controlar, ouvir e visualizar:</p>
            <div class="sound-controls">
                <div class="controls-left">
                    <div class="slider-group">
                        <label for="frequency">1. Frequência (Controla a <strong>Altura</strong> da nota) - <span id="note-display">A4</span></label>
                        <input type="range" id="frequency" min="110" max="880" value="440" step="1">
                        <div class="slider-labels"><span>Grave (Baixa)</span><span>Agudo (Alta)</span></div>
                    </div>
                    <div class="slider-group">
                        <label for="amplitude">2. Amplitude (Controla o <strong>Volume</strong>)</label>
                        <input type="range" id="amplitude" min="0" max="1" value="0.5" step="0.01">
                        <div class="slider-labels"><span>Baixo</span><span>Alto</span></div>
                    </div>
                    <div class="timbre-group">
                        <label>3. Timbre (Controla a <strong>"Cor"</strong> do som)</label>
                        <p class="small-desc">O timbre é o que faz um violino e um piano soarem diferentes, mesmo tocando a mesma nota. Ele é definido pelo formato da onda sonora.</p>
                        <div class="button-group">
                            <button id="sine-wave" class="active">Pura (Senoide)</button>
                            <button id="square-wave">Quadrada</button>
                            <button id="sawtooth-wave">Dente de Serra</button>
                            <button id="triangle-wave">Triangular</button>
                        </div>
                    </div>
                </div>
                <div class="controls-right">
                    <p class="canvas-title">Visualização da Onda Sonora</p>
                    <canvas id="sound-wave-canvas" width="400" height="200"></canvas>
                    <p class="canvas-caption">Mova os controles para ver e ouvir a mudança em tempo real!</p>
                </div>
            </div>
        </section>

        <!-- Seção 2: Ondas Estacionárias -->
        <section class="card">
            <h2>Ondas Estacionárias: Superposição de Harmônicos</h2>
            <div class="instruction-box">
                 <p>Selecione um ou mais <strong>harmônicos</strong> para cada sistema (corda e tubos) e veja como as ondas se somam. Use o controle de <strong>velocidade</strong> para observar melhor a vibração. Note como o som muda ao adicionar mais harmônicos.</p>
            </div>
            <div class="stationary-wave-controls">
                <label for="oscillation-speed">Velocidade da Oscilação:</label>
                <input type="range" id="oscillation-speed" min="1" max="10" value="3" step="1">
            </div>
            <div class="stationary-wave-container">
                <!-- Coluna da Corda -->
                <div class="wave-column">
                    <h3>Em uma Corda Vibrante (Nota fundamental: A2 - 110 Hz)</h3>
                    <canvas id="string-wave-canvas" width="300" height="150"></canvas>
                    <div class="button-group-harmonics">
                        <button class="harmonic-btn" data-system="string" data-harmonic="1">1º Harmônico</button>
                        <button class="harmonic-btn" data-system="string" data-harmonic="2">2º Harmônico</button>
                        <button class="harmonic-btn" data-system="string" data-harmonic="3">3º Harmônico</button>
                        <button class="harmonic-btn" data-system="string" data-harmonic="4">4º Harmônico</button>
                    </div>
                </div>
                <!-- Coluna do Tubo Aberto-Aberto -->
                <div class="wave-column">
                    <h3>Em um Tubo Aberto-Aberto (Nota fundamental: A2 - 110 Hz)</h3>
                    <canvas id="open-open-tube-canvas" width="300" height="150"></canvas>
                     <div class="button-group-harmonics">
                        <button class="harmonic-btn" data-system="open-open" data-harmonic="1">1º Harmônico</button>
                        <button class="harmonic-btn" data-system="open-open" data-harmonic="2">2º Harmônico</button>
                        <button class="harmonic-btn" data-system="open-open" data-harmonic="3">3º Harmônico</button>
                        <button class="harmonic-btn" data-system="open-open" data-harmonic="4">4º Harmônico</button>
                    </div>
                </div>
                <!-- Coluna do Tubo Aberto-Fechado -->
                <div class="wave-column">
                    <h3>Em um Tubo Aberto-Fechado (Nota fundamental: A2 - 110 Hz)</h3>
                    <canvas id="open-closed-tube-canvas" width="300" height="150"></canvas>
                     <div class="button-group-harmonics">
                        <button class="harmonic-btn" data-system="open-closed" data-harmonic="1">1º Harmônico</button>
                        <button class="harmonic-btn" data-system="open-closed" data-harmonic="3">3º Harmônico</button>
                        <button class="harmonic-btn" data-system="open-closed" data-harmonic="5">5º Harmônico</button>
                        <button class="harmonic-btn" data-system="open-closed" data-harmonic="7">7º Harmônico</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Seção 3: Shofar -->
        <section class="card shofar-section">
            <h2>A Física do Shofar: A Superposição em Ação</h2>
             <div class="instruction-box">
                 <p>Clique em cada um dos toques tradicionais do Shofar. Observe a onda e o analisador para ver a "receita" de harmônicos que compõem seu timbre único.</p>
            </div>
            <div class="shofar-container">
                <div class="shofar-visual">
                     <svg id="shofar-svg" viewBox="0 0 200 100">
                        <path d="M 10 50 Q 20 20 60 30 T 150 40 L 190 20 L 195 80 L 150 60 Q 60 70 30 80 T 10 50 Z" fill="#D4AF37" stroke="#8B4513" stroke-width="2"/>
                        <g id="shofar-wave-group" style="display: none;">
                           <!-- A onda será desenhada aqui pelo JavaScript -->
                        </g>
                    </svg>
                </div>
                <div class="shofar-analyser">
                    <canvas id="shofar-analyser-canvas" width="300" height="150"></canvas>
                </div>
            </div>
            <div class="shofar-toques">
                <div class="toque-item">
                    <button id="tekiah-btn">Tekiyá</button>
                    <p>som contínuo, como um longo suspiro</p>
                </div>
                <div class="toque-item">
                     <button id="shevarim-btn">Shevarim</button>
                    <p>três sons interrompidos, como soluços</p>
                </div>
                <div class="toque-item">
                     <button id="teruah-btn">Teruá</button>
                    <p>nove sons curtíssimos, como suspiros entrecortados</p>
                </div>
            </div>
            <div id="comparison-analysis" class="analysis-box">
                <h3>Análise Comparativa</h3>
                <p>Note que o <strong>timbre</strong> (a "receita" de harmônicos mostrada no analisador) é o mesmo para todos os toques. O que muda é o <strong>ritmo</strong> e a <strong>duração</strong>, criando significados e sentimentos diferentes.</p>
            </div>
        </section>

    </main>

    <footer>
        <p>Projeto de Física do Som - Desenvolvido com o auxílio de IA</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <script src="script.js"></script>
</body>
</html>
